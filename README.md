# 珞珈探秘·校园团建定向助手

一个专为武汉大学设计的智能定向越野专家系统，结合了IOF（国际定向联合会）专业裁判逻辑与OSM（OpenStreetMap）开源地图数据，提供科学的赛事路线和有趣的校园探索任务。

## 🎯 功能特点

### 🏆 专业赛事编排 (Professional Mode)
- 符合IOF 2024标准的赛事路线设计
- 支持短距离赛、百米定向、积分赛等多种赛事类型
- 自动计算赛段参数：直线距离、实际跑动距离、爬升高度
- 提供专业的技术要点分析和赛事建议
- 生成详细的路线报告，包含控制点坐标和导航指引

### 🎉 团建定向 (Fun Mode)
- 多样化的团建主题：樱花季、校史探秘、团日活动、新生破冰等8种主题
- 丰富的任务类型：拍照任务、知识问答、团队协作、运动挑战等
- 完整的积分系统和团队竞争机制
- 每个点位包含1-2个可选择完成的任务
- 详细的活动规则和团建建议

### 🗺️ 地图可视化
- 集成Leaflet.js开源地图库
- 武汉大学范围内的高精度地图展示
- 动态的点位标记和路线绘制
- 交互式地图，支持点击添加标记
- 美观的地图样式和动画效果

### 🎨 现代化UI设计
- 渐变色彩和卡片式设计
- 响应式布局，适配不同屏幕尺寸
- 丰富的动画效果：淡入、滑动、旋转等
- 友好的交互反馈和加载状态
- 支持键盘快捷键（Ctrl+Enter快速提交）

## 🚀 快速开始

### 1. 环境要求
- Python 3.7+ 
- Flask 3.0+ 
- requests库

### 2. 安装依赖
```bash
pip install flask requests
```

### 3. 启动应用
```bash
python app.py
```

### 4. 访问应用
打开浏览器访问：http://127.0.0.1:5000

## 📖 使用指南

### 专业赛事编排
1. 在左侧选择"专业赛事编排"模式
2. 输入赛事请求，例如：
   ```
   短距离赛事，起点信息学部操场，终点文理学部操场
   ```
3. 点击"获取定向方案"按钮
4. 查看右侧生成的赛事路线报告和地图可视化

### 团建定向
1. 在左侧选择"团建定向"模式
2. 输入团建主题，例如：
   ```
   团日活动
   ```
3. 点击"获取定向方案"按钮
4. 查看右侧生成的团建方案和地图可视化

## 🏗️ 项目结构

```
luojia-explorer/
├── campus_orientation.py  # 核心功能模块
├── app.py                # Flask Web应用
├── templates/            # HTML模板
│   └── index.html        # 主页面
├── README.md            # 项目说明文档
└── .gitignore          # Git忽略文件
```

## 🛠️ 技术栈

- **后端框架**：Flask 3.0+ 
- **地图库**：Leaflet.js 1.9.4
- **地图数据**：OpenStreetMap (OSM)
- **路线规划**：OSRM API
- **前端技术**：HTML5, CSS3, JavaScript (ES6+)

## 📝 核心功能说明

### LuojiaExplorer类
- `__init__()`：初始化类，设置地图API基础URL
- `check_in_campus(location)`：检查地点是否在武大校园范围内
- `get_route(origin, destination)`：获取两点之间的路线信息
- `get_poi_around(location, radius, tags)`：获取指定位置周围的POI
- `professional_mode(race_type, start, end)`：生成专业赛事路线
- `fun_mode(theme)`：生成团建定向方案
- `process_request(user_input)`：处理用户请求，识别意图并返回相应结果

## 🎯 支持的团建主题

- 樱花季：围绕樱花相关景点设计的任务
- 校史探秘：探索武大历史建筑和文化
- 文化体验：体验武大的文化氛围
- 团日活动：适合团日活动的红色主题
- 新生破冰：帮助新生熟悉校园
- 社团活动：适合社团团建的任务
- 户外拓展：注重团队协作的户外活动
- 文化传承：传承武大文化的主题任务

## 🔒 限制

- 所有规划的点位、路线、任务严格限定在武汉大学校区范围内
- 自动避开地图上标识为施工区或机动车主干道的不安全区域
- 所有点位必须是OSM地图上可检索的真实POI

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License

## 📧 联系方式

如有问题或建议，请通过以下方式联系：
- Email: example@whu.edu.cn
- GitHub: https://github.com/yourusername/luojia-explorer

---

**珞珈探秘·校园团建定向助手** - 让校园定向越野更专业、更有趣！ 🌸
